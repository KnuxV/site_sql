
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
      
        <link rel="prev" href="../cours4/meteorites/instructions/">
      
      
        <link rel="next" href="bnb/instructions/">
      
      
      <link rel="icon" href="../assets/images/favicon.png">
      <meta name="generator" content="mkdocs-1.6.1, mkdocs-material-9.6.9">
    
    
      
        <title>Introduction - Cours SQL</title>
      
    
    
      <link rel="stylesheet" href="../assets/stylesheets/main.4af4bdda.min.css">
      
      


    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
    <script>__md_scope=new URL("..",location),__md_hash=e=>[...e].reduce(((e,_)=>(e<<5)-e+_.charCodeAt(0)),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    <body dir="ltr">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#cours-5-version-originale" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

<header class="md-header" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href=".." title="Cours SQL" class="md-header__button md-logo" aria-label="Cours SQL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Cours SQL
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Introduction
            
          </span>
        </div>
      </div>
    </div>
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
    
      <label class="md-header__button md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/></svg>
        </button>
      </nav>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" tabindex="0" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
            
<nav class="md-tabs" aria-label="Tabs" data-md-component="tabs">
  <div class="md-grid">
    <ul class="md-tabs__list">
      
        
  
  
  
    <li class="md-tabs__item">
      <a href=".." class="md-tabs__link">
        
  
    
  
  Home

      </a>
    </li>
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours0/" class="md-tabs__link">
          
  
    
  
  Cours 0

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours1/" class="md-tabs__link">
          
  
    
  
  Cours 1

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours2/" class="md-tabs__link">
          
  
    
  
  Cours 2

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours3/" class="md-tabs__link">
          
  
    
  
  Cours 3

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours4/" class="md-tabs__link">
          
  
    
  
  Cours 4

        </a>
      </li>
    
  

      
        
  
  
    
  
  
    
    
      <li class="md-tabs__item md-tabs__item--active">
        <a href="./" class="md-tabs__link">
          
  
    
  
  Cours 5

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours6/" class="md-tabs__link">
          
  
    
  
  Cours 6

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../cours7/" class="md-tabs__link">
          
  
    
  
  Cours 7

        </a>
      </li>
    
  

      
        
  
  
  
    
    
      <li class="md-tabs__item">
        <a href="../sqlite_python/" class="md-tabs__link">
          
  
    
  
  SQLite Python

        </a>
      </li>
    
  

      
    </ul>
  </div>
</nav>
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


  


  

<nav class="md-nav md-nav--primary md-nav--lifted md-nav--integrated" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href=".." title="Cours SQL" class="md-nav__button md-logo" aria-label="Cours SQL" data-md-component="logo">
      
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3 3 3 0 0 0 3 3m0 3.54C9.64 9.35 6.5 8 3 8v11c3.5 0 6.64 1.35 9 3.54 2.36-2.19 5.5-3.54 9-3.54V8c-3.5 0-6.64 1.35-9 3.54"/></svg>

    </a>
    Cours SQL
  </label>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href=".." class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Home
    
  </span>
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours0/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 0
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_2" id="__nav_2_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            Cours 0
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours0/histoire/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Histoire
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours1/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 1
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_3" id="__nav_3_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            Cours 1
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours1/cyberchase/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Cyberchase
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours1/normals/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Normals
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours1/players/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Players
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours1/views/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Views
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours1/index_old.md" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Old Index
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours2/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 2
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_4" id="__nav_4_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            Cours 2
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours2/dese/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Dese
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours2/moneyball/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Moneyball
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours2/packages/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Packages
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours3/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 3
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_5" id="__nav_5_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            Cours 3
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours3/atl/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    ATL
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours3/connect/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Connect
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours3/doghnut/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Doghnut
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours4/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 4
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_6" id="__nav_6_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            Cours 4
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours4/dont-panic/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Don't Panic
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours4/meteorites/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Meteorites
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
    
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
    
    
      
        
        
      
      
    
    
    <li class="md-nav__item md-nav__item--active md-nav__item--section md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" checked>
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="./" class="md-nav__link md-nav__link--active">
              
  
  <span class="md-ellipsis">
    Cours 5
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link md-nav__link--active" for="__nav_7" id="__nav_7_label" tabindex="">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="true">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            Cours 5
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="bnb/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    BNB
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="census/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Census
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="private/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Private
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours6/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 6
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_8" id="__nav_8_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            Cours 6
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours6/harvard/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Harvard
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours6/snap/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Snap
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
        
      
        
      
        
      
        
      
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../cours7/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    Cours 7
    
  </span>
  

            </a>
            
              
              <label class="md-nav__link " for="__nav_9" id="__nav_9_label" tabindex="0">
                <span class="md-nav__icon md-icon"></span>
              </label>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            Cours 7
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours7/index2/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Index 2
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours7/deep/answers/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep Answers
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours7/deep/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Deep Instructions
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours7/dont-panic-python/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    Don't Panic Python
    
  </span>
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../cours7/linkedin/instructions/" class="md-nav__link">
        
  
  <span class="md-ellipsis">
    LinkedIn
    
  </span>
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
      
        
          
        
      
    
    
      
      
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_10" >
        
          
          
          <div class="md-nav__link md-nav__container">
            <a href="../sqlite_python/" class="md-nav__link ">
              
  
  <span class="md-ellipsis">
    SQLite Python
    
  </span>
  

            </a>
            
          </div>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_10_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_10">
            <span class="md-nav__icon md-icon"></span>
            SQLite Python
          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  



  <h1>Introduction</h1>

<h2 id="cours-5-version-originale">Cours 5 (<a href="https://cs50.harvard.edu/sql/2024/notes/4/">Version originale</a>)<a class="headerlink" href="#cours-5-version-originale" title="Permanent link">&para;</a></h2>
<ul>
<li><a href="#introduction">Introduction</a></li>
<li><a href="#vues-views">Vues (Views)</a></li>
<li><a href="#simplification">Simplification</a></li>
<li><a href="#agrégation">Agrégation</a></li>
<li><a href="#expression-commune-de-table-cte">Expression Commune de Table (CTE)</a></li>
<li><a href="#partitionnement">Partitionnement</a></li>
<li><a href="#sécurisation">Sécurisation</a></li>
<li><a href="#suppressions-logiques-soft-deletions">Suppressions Logiques (Soft Deletions)</a></li>
</ul>
<h2 id="introduction">Introduction<a class="headerlink" href="#introduction" title="Permanent link">&para;</a></h2>
<ul>
<li>Jusqu'à présent, nous avons appris des concepts qui nous permettent de concevoir des bases de données complexes et d'y écrire des données. Maintenant, nous allons explorer des moyens d'obtenir des vues à partir de ces bases de données.</li>
<li>Revenons à la base de données contenant des livres présélectionnés pour le International Booker Prize. Voici un aperçu des tables de cette base de données.</li>
</ul>
<p><img alt="&quot;Tables contenant des livres et des auteurs avec une relation plusieurs-à-plusieurs&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/4.jpg" />
- Pour trouver un livre écrit par l'auteur Han Kang, nous devrions parcourir chacune des trois tables ci-dessus — d'abord en trouvant l'ID de l'auteur, puis les IDs des livres correspondants et enfin les titres des livres. Au lieu de cela, existe-t-il un moyen de regrouper les informations connexes des trois tables dans une seule vue ?
- Oui, nous pouvons utiliser la commande <code>JOIN</code> en SQL pour combiner des lignes de deux tables ou plus en fonction d'une colonne liée entre elles. Voici une représentation visuelle de la manière dont ces tables pourraient être jointes afin d'aligner les auteurs et leurs livres.</p>
<p><img alt="&quot;Table joignant livres, authored et auteurs&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/8.jpg" /></p>
<p>Cela permet de voir facilement que Han Kang a écrit "The White Book".
- On peut aussi imaginer supprimer les colonnes d'ID ici, de sorte que notre vue ressemble à ce qui suit.</p>
<p><img alt="&quot;Table joignant livres, authored et auteurs avec les colonnes d'ID supprimées&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/10.jpg" /></p>
<h2 id="vues-views">Vues (Views)<a class="headerlink" href="#vues-views" title="Permanent link">&para;</a></h2>
<ul>
<li>Une vue est une table virtuelle définie par une requête.</li>
<li>Supposons que nous écrivions une requête pour joindre trois tables, comme dans l'exemple précédent, puis sélectionnons les colonnes pertinentes. La nouvelle table créée par cette requête peut être enregistrée en tant que vue, à interroger ultérieurement.</li>
<li>Les vues sont utiles pour :<ul>
<li>simplifier : regrouper des données de différentes tables pour les interroger plus simplement,</li>
<li>agréger : exécuter des fonctions d'agrégation, comme trouver la somme, et stocker les résultats,</li>
<li>partitionner : diviser les données en morceaux logiques,</li>
<li>sécuriser : masquer les colonnes qui doivent rester sécurisées. Bien qu'il existe d'autres façons dont les vues peuvent être utiles, dans cette conférence, nous nous concentrerons sur les quatre points ci-dessus.</li>
</ul>
</li>
</ul>
<h2 id="simplification">Simplification<a class="headerlink" href="#simplification" title="Permanent link">&para;</a></h2>
<ul>
<li>Ouvrons <code>longlist.db</code> sur SQLite et exécutons la commande <code>.schema</code> pour vérifier que les trois tables que nous avons vues dans l'exemple précédent sont créées : <code>authors</code>, <code>authored</code> et <code>books</code>.</li>
<li>Pour sélectionner les livres écrits par Fernanda Melchor, nous écririons cette requête imbriquée.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;title&quot; FROM &quot;books&quot;
WHERE &quot;id&quot; IN (
    SELECT &quot;book_id&quot; FROM &quot;authored&quot;
    WHERE &quot;author_id&quot; = (
        SELECT &quot;id&quot; FROM &quot;authors&quot;
        WHERE &quot;name&quot; = 'Fernanda Melchor'
    )
);
</code></pre>
<ul>
<li>La requête ci-dessus est complexe — il y a trois requêtes <code>SELECT</code> dans la requête imbriquée. Pour simplifier cela, utilisons d'abord <code>JOIN</code> pour créer une vue contenant les auteurs et leurs livres.</li>
<li>Dans un nouveau terminal, connectons-nous à nouveau à <code>longlist.db</code>, et exécutons la requête suivante.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;name&quot;, &quot;title&quot; FROM &quot;authors&quot;
JOIN &quot;authored&quot; ON &quot;authors&quot;.&quot;id&quot; = &quot;authored&quot;.&quot;author_id&quot;
JOIN &quot;books&quot; ON &quot;books&quot;.&quot;id&quot; = &quot;authored&quot;.&quot;book_id&quot;;
</code></pre>
<pre><code>- Notez qu'il est important de spécifier comment deux tables sont jointes, ou les colonnes sur lesquelles elles sont jointes.
- Astuce : La colonne de clé primaire d'une table est généralement jointe à la colonne de clé étrangère correspondante de l'autre table !
- L'exécution de cette requête affichera une table contenant tous les noms d'auteurs à côté des titres des livres qu'ils ont écrits.
</code></pre>
<ul>
<li>Pour enregistrer la table virtuelle créée à l'étape précédente en tant que vue, nous devons modifier la requête.</li>
</ul>
<pre><code class="language-sql">CREATE VIEW &quot;longlist&quot; AS
SELECT &quot;name&quot;, &quot;title&quot; FROM &quot;authors&quot;
JOIN &quot;authored&quot; ON &quot;authors&quot;.&quot;id&quot; = &quot;authored&quot;.&quot;author_id&quot;
JOIN &quot;books&quot; ON &quot;books&quot;.&quot;id&quot; = &quot;authored&quot;.&quot;book_id&quot;;
</code></pre>
<p>La vue créée ici s'appelle <code>longlist</code>. Cette vue peut maintenant être utilisée exactement comme nous utiliserions une table en SQL.
- Écrivons une requête pour voir toutes les données dans cette vue.</p>
<pre><code class="language-sql">SELECT * FROM &quot;longlist&quot;;
</code></pre>
<ul>
<li>En utilisant cette vue, nous pouvons considérablement simplifier la requête nécessaire pour trouver les livres écrits par Fernanda Melchor.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;title&quot; FROM &quot;longlist&quot; WHERE &quot;name&quot; = 'Fernanda Melchor';
</code></pre>
<ul>
<li>Une vue, étant une table virtuelle, ne consomme pas beaucoup plus d'espace disque pour être créée. Les données d'une vue sont toujours stockées dans les tables sous-jacentes, mais restent accessibles via cette vue simplifiée.</li>
</ul>
<h3 id="questions">Questions<a class="headerlink" href="#questions" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Peut-on manipuler les vues pour les trier ou les afficher différemment ?</p>
</blockquote>
<ul>
<li>Oui, nous pouvons trier les livres dans une vue de la même manière que nous le ferions dans une table.<ul>
<li>Par exemple, affichons les données de la vue <code>longlist</code>, triées par les titres des livres.</li>
</ul>
</li>
</ul>
<pre><code class="language-sql">SELECT &quot;name&quot;, &quot;title&quot;
FROM  &quot;longlist&quot;
ORDER BY &quot;title&quot;;
</code></pre>
<pre><code>- Nous pourrions également avoir la vue elle-même triée. Nous pouvons le faire en incluant une clause `ORDER BY` dans la requête utilisée pour créer la vue.
</code></pre>
<h2 id="agregation">Agrégation<a class="headerlink" href="#agregation" title="Permanent link">&para;</a></h2>
<ul>
<li>Dans <code>longlist.db</code>, nous avons une table contenant des notes individuelles attribuées à chaque livre. Dans les semaines précédentes, nous avons vu comment trouver la note moyenne de chaque livre, arrondie à 2 décimales.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;book_id&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot;
FROM &quot;ratings&quot;
GROUP BY &quot;book_id&quot;;
</code></pre>
<ul>
<li>Les résultats de la requête ci-dessus peuvent être rendus plus utiles en affichant le titre de chaque livre, et peut-être l'année où chaque livre a été présélectionné. Ces informations sont présentes dans la table <code>books</code>.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;book_id&quot;, &quot;title&quot;, &quot;year&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot;
FROM &quot;ratings&quot;
JOIN &quot;books&quot; ON &quot;ratings&quot;.&quot;book_id&quot; = &quot;books&quot;.&quot;id&quot;
GROUP BY &quot;book_id&quot;;
</code></pre>
<pre><code>- Ici, nous utilisons un `JOIN` pour combiner des informations des tables `ratings` et `books`, en les joignant sur la colonne de l'ID du livre.
- Remarquez l'ordre des opérations dans cette requête — en particulier, le placement de l'opération `GROUP BY` à la fin de la requête après la jonction des deux tables.
</code></pre>
<ul>
<li>Ces données agrégées peuvent être stockées dans une vue.</li>
</ul>
<pre><code class="language-sql">CREATE VIEW &quot;average_book_ratings&quot; AS
SELECT &quot;book_id&quot; AS &quot;id&quot;, &quot;title&quot;, &quot;year&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot;
FROM &quot;ratings&quot;
JOIN &quot;books&quot; ON &quot;ratings&quot;.&quot;book_id&quot; = &quot;books&quot;.&quot;id&quot;
GROUP BY &quot;book_id&quot;;
</code></pre>
<pre><code>- Maintenant, regardons les données dans cette vue.
</code></pre>
<pre><code class="language-sql">SELECT * FROM &quot;average_book_ratings&quot;;
</code></pre>
<ul>
<li>En ajoutant plus de données à la table <code>ratings</code>, pour obtenir un agrégat à jour, il suffit de requêter à nouveau la vue en utilisant une commande <code>SELECT</code> comme ci-dessus !</li>
<li>Chaque fois qu'une vue est créée, elle est ajoutée au schéma. Nous pouvons vérifier cela en exécutant <code>.schema</code> pour observer que <code>longlist</code> et <code>average_book_ratings</code> font désormais partie du schéma de cette base de données.</li>
<li>Pour créer des vues temporaires qui ne sont pas stockées dans le schéma de la base de données, nous pouvons utiliser <code>CREATE TEMPORARY VIEW</code>. Cette commande crée une vue qui existe uniquement pendant la durée de notre connexion avec la base de données.</li>
<li>Pour trouver la note moyenne des livres par année, nous pouvons utiliser la vue que nous avons déjà créée.</li>
</ul>
<pre><code class="language-sql">SELECT &quot;year&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot;
FROM &quot;average_book_ratings&quot;
GROUP BY &quot;year&quot;;
</code></pre>
<p>Remarquez que nous sélectionnons la colonne <code>rating</code> de <code>average_book_ratings</code>, qui contient déjà les notes moyennes par livre. Ensuite, nous les regroupons par année et calculons à nouveau les notes moyennes, ce qui nous donne la note moyenne par année !
- Nous pouvons stocker les résultats dans une vue temporaire.</p>
<pre><code class="language-sql">CREATE TEMPORARY VIEW &quot;average_ratings_by_year&quot; AS
SELECT &quot;year&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot; FROM &quot;average_book_ratings&quot;
GROUP BY &quot;year&quot;;
</code></pre>
<h3 id="questions_1">Questions<a class="headerlink" href="#questions_1" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Les vues temporaires peuvent-elles être utilisées pour tester si une requête fonctionne ou non ?</p>
</blockquote>
<ul>
<li>Oui, c'est un excellent cas d'utilisation pour les vues temporaires ! Pour généraliser un peu, les vues temporaires sont utilisées lorsque nous voulons organiser des données d'une certaine manière sans réellement stocker cette organisation à long terme.</li>
</ul>
<h2 id="expression-commune-de-table-cte">Expression Commune de Table (CTE)<a class="headerlink" href="#expression-commune-de-table-cte" title="Permanent link">&para;</a></h2>
<ul>
<li>Une vue régulière existe pour toujours dans notre schéma de base de données. Une vue temporaire existe pendant la durée de notre connexion avec la base de données. Une CTE est une vue qui existe pour une seule requête.</li>
<li>Recréons la vue contenant les notes moyennes des livres par année en utilisant une CTE au lieu d'une vue temporaire. Tout d'abord, nous devons supprimer la vue temporaire existante afin de pouvoir réutiliser le nom <code>average_book_ratings</code>.</li>
</ul>
<pre><code class="language-sql">DROP VIEW &quot;average_book_ratings&quot;;
</code></pre>
<ul>
<li>Ensuite, nous créons une CTE contenant les notes moyennes par livre. Nous utilisons ensuite les notes moyennes par livre pour calculer les notes moyennes par année, de la même manière que nous l'avons fait précédemment.</li>
</ul>
<pre><code class="language-sql">WITH &quot;average_book_ratings&quot; AS (
    SELECT &quot;book_id&quot;, &quot;title&quot;, &quot;year&quot;, ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot; FROM &quot;ratings&quot;
    JOIN &quot;books&quot; ON &quot;ratings&quot;.&quot;book_id&quot; = &quot;books&quot;.&quot;id&quot;
    GROUP BY &quot;book_id&quot;
)
SELECT &quot;year&quot; ROUND(AVG(&quot;rating&quot;), 2) AS &quot;rating&quot; FROM &quot;average_book_ratings&quot;
GROUP BY &quot;year&quot;;
</code></pre>
<h2 id="partitionnement">Partitionnement<a class="headerlink" href="#partitionnement" title="Permanent link">&para;</a></h2>
<ul>
<li>Les vues peuvent être utilisées pour partitionner des données, ou les diviser en morceaux plus petits qui seront utiles pour nous ou une application. Par exemple, le site web du International Booker Prize a une page de livres présélectionnés pour chaque année où le prix a été décerné. Cependant, notre base de données stocke tous les livres présélectionnés dans une seule table. Pour créer le site web, ou à d'autres fins, il pourrait être utile d'avoir une table (ou vue) différente de livres pour chaque année.</li>
<li>Créons une vue pour stocker les livres présélectionnés en 2022.</li>
</ul>
<pre><code class="language-sql">CREATE VIEW &quot;2022&quot; AS
SELECT &quot;id&quot;, &quot;title&quot; FROM &quot;books&quot;
WHERE &quot;year&quot; = 2022;
</code></pre>
<pre><code>- Nous pouvons également voir les données dans cette vue.
</code></pre>
<pre><code class="language-sql">SELECT * FROM &quot;2022&quot;;
</code></pre>
<h3 id="questions_2">Questions<a class="headerlink" href="#questions_2" title="Permanent link">&para;</a></h3>
<blockquote>
<p>Les vues peuvent-elles être mises à jour ?</p>
</blockquote>
<ul>
<li>Non, car les vues ne contiennent pas de données comme les tables. Les vues extraient en fait des données des tables sous-jacentes chaque fois qu'elles sont interrogées. Cela signifie que lorsqu'une table sous-jacente est mise à jour, la prochaine fois que la vue est interrogée, elle affichera les données mises à jour de la table !</li>
</ul>
<h2 id="securisation">Sécurisation<a class="headerlink" href="#securisation" title="Permanent link">&para;</a></h2>
<ul>
<li>Les vues peuvent être utilisées pour améliorer la sécurité de la base de données en limitant l'accès à certaines données.</li>
<li>Prenons l'exemple d'une base de données d'une entreprise de covoiturage avec une table <code>rides</code> qui ressemble à ce qui suit.</li>
</ul>
<p><img alt="&quot;Table des trajets contenant la destination, l'origine et les passagers&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/41.jpg" />
- Si nous devions donner ces données à un analyste, dont le travail est de trouver les itinéraires de trajet les plus populaires, il serait inutile et en fait, non sécurisé de lui donner les noms des passagers individuels. Les noms des passagers sont probablement classés comme informations personnelles identifiables (PII) que les entreprises ne sont pas autorisées à partager sans discernement.
- Les vues peuvent être utiles dans cette situation — nous pouvons partager avec l'analyste une vue contenant l'origine et la destination des trajets, mais pas les noms des passagers.
- Pour essayer cela, ouvrons <code>rideshare.db</code> dans notre terminal. L'exécution de <code>.schema</code> devrait révéler une table appelée <code>rides</code> dans cette base de données.
- Nous pouvons créer une vue avec les colonnes pertinentes, tout en omettant complètement la colonne <code>rider</code>. Mais nous irons un peu plus loin ici, et créerons une colonne <code>rider</code> pour afficher un passager anonyme pour chaque ligne du tableau. Cela indiquera à l'analyste que bien que nous ayons des noms de passagers dans la base de données, les noms ont été anonymisés pour des raisons de sécurité.</p>
<pre><code class="language-sql">CREATE VIEW &quot;analysis&quot; AS
SELECT &quot;id&quot;, &quot;origin&quot;, &quot;destination&quot;, 'Anonymous' AS &quot;rider&quot;
FROM &quot;rides&quot;;
</code></pre>
<pre><code>- Nous pouvons interroger cette vue pour nous assurer qu'elle est sécurisée.
</code></pre>
<pre><code class="language-sql">SELECT * FROM &quot;analysis&quot;;
</code></pre>
<ul>
<li>Bien que nous puissions créer une vue qui anonymise les données, SQLite ne permet pas le contrôle d'accès. Cela signifie que notre analyste pourrait simplement interroger la table <code>rides</code> d'origine et voir tous les noms de passagers que nous avons pris soin d'omettre dans la vue <code>analysis</code>.</li>
</ul>
<h2 id="suppressions-logiques-soft-deletions">Suppressions Logiques (Soft Deletions)<a class="headerlink" href="#suppressions-logiques-soft-deletions" title="Permanent link">&para;</a></h2>
<ul>
<li>Comme nous l'avons vu dans les semaines précédentes, une suppression logique implique de marquer une ligne comme supprimée au lieu de la retirer de la table.</li>
<li>Par exemple, une œuvre d'art intitulée "Farmers working at dawn" est marquée comme supprimée de la table <code>collections</code> en changeant la valeur de la colonne <code>deleted</code> de 0 à 1.</li>
</ul>
<p><img alt="&quot;Suppression logique d'une ligne en changeant la valeur &quot;deleted&quot; de 0 à 1&quot;" src="https://cs50.harvard.edu/sql/2024/notes/4/images/46.jpg" />
- Nous pouvons imaginer créer une vue pour afficher uniquement l'art qui n'est pas supprimé.
- Pour essayer cela, ouvrons <code>mfa.db</code> dans notre terminal. La table <code>collections</code> n'a pas encore de colonne <code>deleted</code>, nous devons donc l'ajouter. La valeur par défaut ici sera 0, pour indiquer que la ligne n'est pas supprimée.</p>
<pre><code class="language-sql">ALTER TABLE &quot;collections&quot;
ADD COLUMN &quot;deleted&quot; INTEGER DEFAULT 0;
</code></pre>
<ul>
<li>Maintenant, effectuons une suppression logique sur l'œuvre "Farmers working at dawn", en la mettant à jour pour avoir 1 dans la colonne <code>deleted</code>.</li>
</ul>
<pre><code class="language-sql">UPDATE &quot;collections&quot;
SET &quot;deleted&quot; = 1
WHERE &quot;title&quot; = 'Farmers working at dawn';
</code></pre>
<ul>
<li>Nous pouvons créer une vue pour afficher les informations sur les lignes qui ne sont pas supprimées.</li>
</ul>
<pre><code class="language-sql">CREATE VIEW &quot;current_collections&quot; AS
SELECT &quot;id&quot;, &quot;title&quot;, &quot;accession_number&quot;, &quot;acquired&quot;
FROM &quot;collections&quot;
WHERE &quot;deleted&quot; = 0;
</code></pre>
<pre><code>- Nous pouvons afficher les données dans cette vue pour vérifier que "Farmers working at dawn" n'est pas présent.
</code></pre>
<pre><code class="language-sql">SELECT * FROM &quot;current_collections&quot;;
</code></pre>
<pre><code>- Lors de la suppression logique d'une ligne de la table sous-jacente `collections`, elle sera retirée de la vue `current_collections` lors de toute interrogation ultérieure.
</code></pre>
<ul>
<li>Nous savons déjà qu'il n'est pas possible d'insérer des données dans une vue ou de les supprimer d'une vue. Cependant, nous pouvons configurer un déclencheur qui insère ou supprime de la table sous-jacente ! Le déclencheur <code>INSTEAD OF</code> nous permet de le faire.</li>
</ul>
<pre><code class="language-sql">CREATE TRIGGER &quot;delete&quot;
INSTEAD OF DELETE ON &quot;current_collections&quot;
FOR EACH ROW
BEGIN
    UPDATE &quot;collections&quot; SET &quot;deleted&quot; = 1
    WHERE &quot;id&quot; = OLD.&quot;id&quot;;
END;
</code></pre>
<pre><code>- Chaque fois que nous essayons de supprimer des lignes de la vue, ce déclencheur mettra à jour la colonne `deleted` de la ligne dans la table sous-jacente `collections`, complétant ainsi la suppression logique.
- Nous utilisons le mot-clé `OLD` dans notre clause de mise à jour pour indiquer que l'ID de la ligne mise à jour dans `collections` doit être le même que l'ID de la ligne que nous essayons de supprimer de `current_collections`.
</code></pre>
<ul>
<li>Maintenant, nous pouvons supprimer une ligne de la vue <code>current_collections</code>.</li>
</ul>
<pre><code class="language-sql">DELETE FROM &quot;current_collections&quot;
WHERE &quot;title&quot; = 'Imaginative landscape';
</code></pre>
<p>Nous pouvons vérifier que cela a fonctionné en interrogeant la vue.</p>
<pre><code class="language-sql">SELECT * FROM &quot;current_collections&quot;;
</code></pre>
<ul>
<li>De même, nous pouvons créer un déclencheur qui insère des données dans la table sous-jacente lorsque nous essayons de les insérer dans une vue.</li>
<li>Il y a deux situations à considérer ici. Nous pourrions essayer d'insérer dans une vue une ligne qui existe déjà dans la table sous-jacente, mais qui a été supprimée logiquement. Nous pouvons écrire le déclencheur suivant pour gérer cette situation.</li>
</ul>
<pre><code class="language-sql">CREATE TRIGGER &quot;insert_when_exists&quot;
INSTEAD OF INSERT ON &quot;current_collections&quot;
FOR EACH ROW
WHEN NEW.&quot;accession_number&quot; IN (
    SELECT &quot;accession_number&quot; FROM &quot;collections&quot;
)
BEGIN
    UPDATE &quot;collections&quot;
    SET &quot;deleted&quot; = 0
    WHERE &quot;accession_number&quot; = NEW.&quot;accession_number&quot;;
END;
</code></pre>
<pre><code>- Le mot-clé `WHEN` est utilisé pour vérifier si le numéro d'accession de l'œuvre existe déjà dans la table `collections`. Cela fonctionne parce qu'un numéro d'accession, comme nous le savons des semaines précédentes, identifie de manière unique chaque œuvre d'art dans cette table.
- Si l'œuvre existe dans la table sous-jacente, nous définissons sa valeur `deleted` sur 0, indiquant une annulation de la suppression logique.
</code></pre>
<ul>
<li>La deuxième situation se produit lorsque nous essayons d'insérer une ligne qui n'existe pas dans la table sous-jacente. Le déclencheur suivant gère cette situation.</li>
</ul>
<pre><code class="language-sql">CREATE TRIGGER &quot;insert_when_new&quot;
INSTEAD OF INSERT ON &quot;current_collections&quot;
FOR EACH ROW
WHEN NEW.&quot;accession_number&quot; NOT IN (
    SELECT &quot;accession_number&quot; FROM &quot;collections&quot;
)
BEGIN
    INSERT INTO &quot;collections&quot; (&quot;title&quot;, &quot;accession_number&quot;, &quot;acquired&quot;)
    VALUES (NEW.&quot;title&quot;, NEW.&quot;accession_number&quot;, NEW.&quot;acquired&quot;);
END;
</code></pre>
<pre><code>- Lorsque le numéro d'accession des données insérées n'est pas déjà présent dans `collections`, il insère la ligne dans la table.
</code></pre>












                
              </article>
            </div>
          
          
<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
    Made with
    <a href="https://squidfunk.github.io/mkdocs-material/" target="_blank" rel="noopener">
      Material for MkDocs
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    <script id="__config" type="application/json">{"base": "..", "features": ["navigation.tabs", "navigation.top", "navigation.tracking", "navigation.instant", "navigation.indexes", "toc.integrate"], "search": "../assets/javascripts/workers/search.f8cc74c7.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}}</script>
    
    
      <script src="../assets/javascripts/bundle.c8b220af.min.js"></script>
      
    
  </body>
</html>